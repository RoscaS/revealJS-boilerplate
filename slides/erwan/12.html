<h2><span class="inline">QPointer</span></h2>

<br />

<ul>
  <li>Partage de <b>pointeur faible</b></li>
  <li>
    Fonctionne uniquement sur les objects <span class="inline">QObject</span> ou
    ses dérivés.
  </li>
</ul>

<div class="fragment">
  <p style="text-align: left">
    Il peut vivre dans plusieurs thread, ce qui rend dangereux ce genre de code:
  </p>

  <pre class="cpp">
        <code data-trim data-noescape data-line-numbers>

            QPointer&lt;QObject&gt; o = getObject();

            // [...]

            if (!o.isNull())
                o->setProperty("objectName", "Object");
        </code>
    </pre>
  <p style="text-align: left">
    Les pointeurs <b>faibles</b> servent à
    <span class="green">tester l’existence d’un objet</span>. C’est l’utilité
    qu’on en fait ici. Mais comme son état peut être modifié par un autre
    thread,
    <span class="red"
      >son existence une ou deux lignes après n’est donc plus garantie</span
    >.
  </p>
</div>

<aside class="notes">
  Pour les utliser, il faut donc garantir par un moyen externe qu’ils ne seront
  pas supprimés. Par exemple comme les QWidget qui ne sont modifiés que dans le
  thread GUI.
</aside>
