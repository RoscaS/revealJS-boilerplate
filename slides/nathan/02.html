
<section>
    <h2><span class="orange">unique</span>_ptr</h2>
    <p class="fragment">Une <b>seule instance</b> a accès à la zone mémoire allouer</p>
    <p class="fragment">La copie et l’assignement sont <b>interdits</b></p>
</section>
<section>
    <h3>Instanciation</h3>
    <div class="fragment">
    <pre class="cpp">
        <code lang="cpp" data-trim data-noescape data-line-numbers>
             std::unique_ptr&lt;std::string&gt; ptr1(new std::string("Je suis unique"));
        </code>
    </pre>
    </div>
</section>

<section>
    <h3>Transfère</h3>
    <div class="fragment">
    <pre class="cpp">
        <code lang="cpp" data-trim data-noescape data-line-numbers>
             ptr2 = ptr1; //ERROR

            std::unique_ptr&lt;std::string&gt; ptr2;
            ptr2.swap(ptr1);
            //or
            std::unique_ptr&lt;std::string&gt; ptr2(std::move(ptr1));
        </code>
    </pre>
    </div>
</section>
<section>
    <h3>Utilisation</h3>
    <div class="fragment">
    <pre class="cpp">
        <code lang="cpp" data-trim data-noescape data-line-numbers>
            ptr1.get() // nullptr

            ptr2.get()->append("ajout1 ");
            //or
            ptr2->append("ajout2 ");

            *ptr2 = "test";

            std::cout << *ptr2;
        </code>
    </pre>
    </div>
</section>
<section>
    <h3>Récupérer le pointer de l'objet</h3>
    <div class="fragment">
    <pre class="cpp">
        <code lang="cpp" data-trim data-noescape data-line-numbers>
            std::string *value2 = ptr2.release();
            delete value2; //IMPORTANT
        </code>
    </pre>
    </div>
</section>
